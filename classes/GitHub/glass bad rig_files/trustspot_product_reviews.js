function trustspot_refresh(t,e,s,o){let r=document.querySelector(".trustspot-tablinks.active")&&document.querySelector(".trustspot-tablinks.active").getAttribute("data-tab")?document.querySelector(".trustspot-tablinks.active").getAttribute("data-tab"):"",n={sort:s,oldpage:o,key:trustspot_key,methods:trustspot_pr_methods,page:e};"undefined"!=typeof trustspot_no_cache&&(n.no_cache=1);let a=new XMLHttpRequest;a.open("POST",globalTrustSpotURL+"/api/pub/product_review",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.onload=function(){if(200===a.status){try{var t=JSON.parse(a.responseText)}catch(t){console.log("TS item not able to load")}for(o in cjsl=!1,gjsl=!1,pcjs=!1,hasVideo=!1,t)if("main_widget"==t[o].type){for(var e=document.querySelectorAll(".trustspot-main-widget[data-product-sku='"+t[o].sku+"']"),s=0;s<e.length;s++)e[s].innerHTML=t[o].content;if("function"==typeof require&&"function"==typeof define&&define.amd)require(["https://cdn.jsdelivr.net/npm/@vimeo/player@2.10.0/dist/player.min.js"],function(t){window.Vimeo=window.Vimeo||{Player:t}});else{let t=(l=document).createElement("script");t.type="text/javascript",t.async=!0,t.src="https://cdn.jsdelivr.net/npm/@vimeo/player@2.10.0/dist/player.min.js",l.getElementsByTagName("head")[0].appendChild(t)}}else if("inline_simple"==t[o].type)for(e=document.querySelectorAll(".trustspot-inline-simple[data-product-sku='"+t[o].sku+"']"),s=0;s<e.length;s++)e[s].innerHTML=t[o].content;else if("inline_category"==t[o].type)for(e=document.querySelectorAll(".trustspot-inline-category[data-product-sku='"+t[o].sku+"']"),s=0;s<e.length;s++)e[s].innerHTML=t[o].content;else if("inline_product"==t[o].type)for(e=document.querySelectorAll(".trustspot-inline-product[data-product-sku='"+t[o].sku+"']"),s=0;s<e.length;s++)e[s].innerHTML=t[o].content;else if("photo_carousel"==t[o].type){let e=document.querySelector('.trustspot-photo-carousel[data-type="carousel"]:not([data-ready])');if(e)if(hasVideo=!0,e.innerHTML=t[o].content,e.setAttribute("data-ready","true"),"function"==typeof trustspotReviewsPlugin){let t=e.querySelector(".trustspot-photo-carousel-content"),s=e.querySelector(".trustspot-carousel-items");t&&s&&new trustspotReviewsPlugin({slidesId:t.id,carouselId:s.id})}else 0==document.querySelectorAll('[src="'+globalTrustSpotURL+'/assets/js/trustspot_photo_carousel.js"]').length&&((p=document.createElement("script")).async="",p.src=globalTrustSpotURL+"/assets/js/trustspot_photo_carousel.js",p.onload=function(){for(var t=document.querySelectorAll('.trustspot-photo-carousel[data-type="carousel"][data-ready]'),e=0;e<t.length;e++){var s=t[e].querySelector(".trustspot-photo-carousel-content"),o=t[e].querySelector(".trustspot-carousel-items");s&&o&&new trustspotReviewsPlugin({slidesId:s.id,carouselId:o.id})}},document.getElementsByTagName("head")[0].appendChild(p))}else if("photo_gallery"==t[o].type){let e=t[o],s=document.querySelector(".trustspot-photo-gallery:not([data-ready])");if(s)if(hasVideo=!0,s.innerHTML=e.content,s.setAttribute("data-ready","true"),s.setAttribute("data-infinite","true"==e.infinite),s.setAttribute("data-show-load-more",!e.paginationEnd),"function"==typeof trustspotReviewsPlugin){let t=s.querySelector(".trustspot-photo-carousel-content"),e=s.querySelector(".trustspot-gallery-items");t&&e&&new trustspotReviewsPlugin({slidesId:t.id,carouselId:e.id,infinteScroll:s.getAttribute("data-infinite"),showLoadMore:s.getAttribute("data-show-load-more"),gallery:!0})}else if(0==document.querySelectorAll('[src="'+globalTrustSpotURL+'/assets/js/trustspot_photo_carousel.js?ver=gallery"]').length){let t;(t=document.createElement("script")).async="",t.src=globalTrustSpotURL+"/assets/js/trustspot_photo_carousel.js?ver=gallery",t.onload=function(){for(let t=document.querySelectorAll(".trustspot-photo-gallery[data-ready]"),e=0;e<t.length;e++){let s=t[e].querySelector(".trustspot-photo-carousel-content"),o=t[e].querySelector(".trustspot-gallery-items");s&&o&&new trustspotReviewsPlugin({slidesId:s.id,carouselId:o.id,infinteScroll:t[e].getAttribute("data-infinite"),showLoadMore:t[e].getAttribute("data-show-load-more"),gallery:!0})}},document.getElementsByTagName("head")[0].appendChild(t)}}else if("product_carousel"==t[o].type){for(e=document.querySelectorAll(".trustspot-product-carousel"),s=0;s<e.length;s++)e[s].innerHTML=t[o].content;pcjs||(i=void 0,(i=(l=document).createElement("script")).type="text/javascript",i.async=!0,i.onload=function(){trustspotProductCarouselInit()},i.src=globalTrustSpotURL+"/assets/js/trustspot_product_carousel.js",l.getElementsByTagName("head")[0].appendChild(i),pcjs=!0)}else if("promoted_product_carousel"==t[o].type){for(e=document.querySelectorAll(".trustspot-promoted-product-carousel"),s=0;s<e.length;s++)e[s].innerHTML=t[o].content;if("undefined"==typeof Trustspot_PPC){let t=document.getElementsByTagName("head")[0],e=document.createElement("link");e.rel="stylesheet",e.href=globalTrustSpotURL+"/assets/fonts/ts-stars/styles.css",e.type="text/css",t.appendChild(e);let s=document.getElementsByClassName("trustspot-promoted-product-carousel")[0],o=document.createElement("script");o.type="text/javascript",o.src=globalTrustSpotURL+"/assets/js/trustspot_promoted_product_carousel.js",o.onload=promotedProductCarouselInit,s.parentNode.insertBefore(o,s.nextSibling)}else promotedProductCarouselInit()}else if("review_count"==t[o].type)for(e=document.querySelectorAll(".trustspot-review-count[data-product-sku='"+t[o].sku+"']"),s=0;s<e.length;s++)e[s].innerHTML=t[o].content;else if("average_rating"==t[o].type)for(e=document.querySelectorAll(".trustspot-average-rating[data-product-sku='"+t[o].sku+"']"),s=0;s<e.length;s++)e[s].innerHTML=t[o].content;"cr"==r?document.querySelector(".cr-tab-link")&&document.querySelector(".cr-tab-link").click():document.getElementById("trustSpotDefaultOpen")&&document.getElementById("trustSpotDefaultOpen").click();var o,n=document.getElementsByClassName("trustspot-accordion");for(o=0;o<n.length;o++)n[o].onclick=function(){this.classList.toggle("active"),this.nextElementSibling.classList.toggle("show")};hasVideo&&("function"==typeof require&&"function"==typeof define&&define.amd?require(["https://cdn.jsdelivr.net/npm/@vimeo/player@2.10.0/dist/player.min.js"],function(t){window.Vimeo=window.Vimeo||{Player:t}}):hasVideo&&(b=void 0,(b=(l=document).createElement("script")).type="text/javascript",b.async=!0,b.onload=function(){},b.src="https://cdn.jsdelivr.net/npm/@vimeo/player@2.10.0/dist/player.min.js",l.getElementsByTagName("head")[0].appendChild(b)))}var l,i},a.send(trustspot_serialize(n)),document.getElementById("product-widget-review-result")&&(document.getElementById("product-widget-review-result").innerHTML="<div id='trustspot-loading'><img src='https://trustspot.io/assets/img/loader.gif'></img></div>"),document.getElementsByClassName("trustspot-main-widget")}function trustspot_serialize(t,e,s){var o,r=[];for(o in t)if(t.hasOwnProperty(o)){var n=e?e+"["+o+"]":o,a=t[o];if(null==a)continue;r.push(null!==a&&"object"==typeof a?trustspot_serialize(a,n,!0):encodeURIComponent(n)+"="+encodeURIComponent(a))}return s||r.push("devicePixelRatio="+window.devicePixelRatio),r.join("&")}function trustspot_forEachElement(t,e){for(let s=document.querySelectorAll(t),o=0;o<s.length;o++)e(s[o],o)}function trustspot_sort_dropdown(t){trustspot_refresh("main_widget",1,t.value)}function switchTrustSpotTab(t,e){let s,o,r;for(o=document.getElementsByClassName("trustspot-tabcontent"),s=0;s<o.length;s++)o[s].style.display="none";for(r=document.getElementsByClassName("trustspot-tablinks"),s=0;s<r.length;s++)r[s].className=r[s].className.replace(" active","");document.getElementById(e).style.display="block",t.currentTarget.className+=" active","trustspot-photos"==e||"trustspot-qa"==e?(document.getElementById("trustspot-pagination").style.display="none",document.getElementById("trustspot-sortbar").style.display="none"):(document.getElementById("trustspot-pagination").style.display="block",document.getElementById("trustspot-sortbar").style.display="block")}function trustspot_ask_question_show(){return"none"==document.getElementById("trustspot-question-asked").style.display&&(document.getElementById("trustspot-question-asked").style.display="block"),!1}function trustspot_ask_question_hide(){return"block"==document.getElementById("trustspot-question-asked").style.display&&(document.getElementById("trustspot-question-asked").style.display="none"),!1}function trustspot_review_show(){return"none"==document.getElementById("trustspot-write-review").style.display&&(document.getElementById("trustspot-write-review").style.display="block"),!1}function trustspot_review_hide(){return"block"==document.getElementById("trustspot-write-review").style.display&&(document.getElementById("trustspot-write-review").style.display="none"),!1}function trustspot_submit_question(){let t={qt:document.getElementById("trustspot_qa_question_text").value,pid:document.getElementById("trustspot_qa_pid").value,n:document.getElementById("trustspot_qa_question_name").value,e:document.getElementById("trustspot_qa_question_email").value,key:trustspot_key},e=new XMLHttpRequest;e.open("POST",globalTrustSpotURL+"/api/qa/ask_question",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.onload=function(){if(200===e.status){let t=JSON.parse(e.responseText);document.getElementById("trustspot_question_error").innerHTML="",""==t.error?document.getElementById("trustspot_qa_question_form").innerHTML=t.msg:document.getElementById("trustspot_question_error").innerHTML=t.error}},e.send(trustspot_serialize(t))}function trustspot_submit_review(){let t,e=document.getElementsByName("trustspot-review-radio");if(e)for(var s=0;s<e.length;s++)e[s].checked&&(t=e[s].value);let o={ts_sv:t,pid:document.getElementById("trustspot_r_pid").value,ts_n:document.getElementById("trustspot_submit_review_name").value,ts_e:document.getElementById("trustspot_submit_review_email").value,ts_t:document.getElementById("trustspot_submit_review_text").value,key:trustspot_key},r=new XMLHttpRequest;r.open("POST",globalTrustSpotURL+"/api/pub/submit_widget_pr",!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.onload=function(){if(200===r.status){let t=JSON.parse(r.responseText);document.getElementById("trustspot_review_error").innerHTML="",""==t.error?document.getElementById("trustspot_review_form").innerHTML=t.msg:document.getElementById("trustspot_review_error").innerHTML=t.error}},r.send(trustspot_serialize(o))}function trustspot_get_product_photos(t){let e={pid:t,key:trustspot_key},s=new XMLHttpRequest;s.open("POST",globalTrustSpotURL+"/api/pub/get_product_photos",!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),s.onload=function(){if(200===s.status){let e=JSON.parse(s.responseText),o="<div class='image-list new-image-list'><ul>";for(var t in e.result){let s=0,r="",n="";e.result[t].instagram&&(s=1,r="is-instagram-photo",n=e.result[t].profile_pic?e.result[t].profile_pic:null),e.result[t].photo_link&&(o+='<li class="js-open-modal-el" onclick="openPictureModal(this)" data-photo="'+e.result[t].photo_link+"?auto=compress&cs=srgb&fit=max&w=627&dpr="+window.devicePixelRatio+'" data-instagram="'+s+'" data-pimage="'+e.result[t].product_image+'" data-pname="'+e.result[t].product_name+'" data-purl="'+e.result[t].product_url+'" data-cname="'+e.result[t].customer_name+'" data-date="'+e.result[t].date+'" data-comments="'+e.result[t].comments+'" data-experience-comments-question="'+(e.result[t].freeTextQuestion?e.result[t].freeTextQuestion:"")+'" data-rid="'+e.result[t].review_id+'" data-profile_pic="'+n+'" data-rating="'+e.result[t].rating+'" data-likes="'+e.result[t].likes+'" data-type="'+e.result[t].type+'" data-lbtu="'+e.result[t].liked_by_this_user+'"><div class="trustspot-photo-box '+r+'"><div style="background-image: url('+e.result[t].photo_link+"?auto=compress&cs=srgb&w=180&h=180&fit=crop&dpr="+window.devicePixelRatio+');"></div><div class="overlay"></div></div>'),e.result[t].experienseAnswersRendered&&(o+='<div class="photo-overlay-experience-data" style="display: none;">'+e.result[t].experienseAnswersRendered+"</div>"),o+="</li>"}o+="</ul></div>",document.getElementById("trustspot-photo-display").innerHTML=o}},s.send(trustspot_serialize(e))}function trustspot_submit_answer(t){let e={qid:t,qt:document.getElementById("trustspot_qa_answer_text_"+t).value,pid:document.getElementById("trustspot_qa_pid").value,n:document.getElementById("trustspot_qa_answer_name_"+t).value,e:document.getElementById("trustspot_qa_answer_email_"+t).value,key:trustspot_key},s=new XMLHttpRequest;s.open("POST",globalTrustSpotURL+"/api/qa/answer_question",!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),s.onload=function(){if(200===s.status){let t=JSON.parse(s.responseText);document.getElementById("trustspot_answer_error_"+t.qid).innerHTML="",""==t.error?document.getElementById("trustspot_qa_answer_form_"+t.qid).innerHTML=t.msg:document.getElementById("trustspot_answer_error_"+t.qid).innerHTML=t.error}},s.send(trustspot_serialize(e))}function trustspot_pr_upvote(t){document.getElementById("trustspot_feedback_"+t).innerHTML="Thanks!";let e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState,XMLHttpRequest.DONE},e.open("GET",globalTrustSpotURL+"/api/vote/upvote_product_review/"+t,!0),e.send()}function trustspot_pr_downvote(t){document.getElementById("trustspot_feedback_"+t).innerHTML="Thanks!";let e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState,XMLHttpRequest.DONE},e.open("GET",globalTrustSpotURL+"/api/vote/downvote_product_review/"+t,!0),e.send()}function trustspot_qa_upvote(t){document.getElementById("trustspot_qa_feedback_"+t).innerHTML="Thanks!";let e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState,XMLHttpRequest.DONE},e.open("GET",globalTrustSpotURL+"/api/vote/upvote_answer/"+t,!0),e.send()}function trustspot_qa_downvote(t){document.getElementById("trustspot_qa_feedback_"+t).innerHTML="Thanks!";let e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState,XMLHttpRequest.DONE},e.open("GET",globalTrustSpotURL+"/api/vote/downvote_answer/"+t,!0),e.send()}function trustspot_init(t,e=""){trustspot_pr_methods=[],trustspot_forEachElement(e+" .trustspot-inline-simple",function(t,e){trustspot_pr_methods.push({method:"inline_simple",params:{sku:t.getAttribute("data-product-sku"),name:t.getAttribute("data-name")}})}),trustspot_forEachElement(e+" .trustspot-inline-category",function(t,e){trustspot_pr_methods.push({method:"inline_category",params:{sku:t.getAttribute("data-product-sku"),name:t.getAttribute("data-name")}})}),trustspot_forEachElement(e+" .trustspot-inline-product",function(t,e){trustspot_pr_methods.push({method:"inline_product",params:{sku:t.getAttribute("data-product-sku"),name:t.getAttribute("data-name")}})}),trustspot_forEachElement(e+" .trustspot-main-widget",function(t,e){trustspot_pr_methods.push({method:"main_widget",params:{sku:t.getAttribute("data-product-sku"),name:t.getAttribute("data-name")}})}),trustspot_forEachElement(e+" .trustspot-photo-carousel",function(t,e){t.setAttribute("data-type","carousel"),trustspot_pr_methods.push({method:"photo_carousel",params:{entity_id:t.getAttribute("data-visual-entity-id"),custom_tags:t.getAttribute("data-custom-tags"),product:t.getAttribute("data-show-product"),company:t.getAttribute("data-show-company"),instagram:t.getAttribute("data-show-instagram"),videos:t.getAttribute("data-show-videos"),title:t.getAttribute("data-title"),button:t.getAttribute("data-button-text"),limit:t.getAttribute("data-photo-limit"),specific_product_sku:t.getAttribute("data-product-sku")}})}),trustspot_forEachElement(e+" .trustspot-photo-gallery",function(t,e){trustspot_gallery_params={entity_id:t.getAttribute("data-visual-entity-id"),custom_tags:t.getAttribute("data-custom-tags"),product:t.getAttribute("data-show-product"),company:t.getAttribute("data-show-company"),instagram:t.getAttribute("data-show-instagram"),videos:t.getAttribute("data-show-videos"),title:t.getAttribute("data-title"),button:t.getAttribute("data-button-text"),limit:t.getAttribute("data-photo-limit"),infinite:t.getAttribute("data-infinite-scroll"),specific_product_sku:t.getAttribute("data-product-sku")},trustspot_pr_methods.push({method:"photo_gallery",params:trustspot_gallery_params})}),trustspot_forEachElement(e+" .trustspot-product-carousel",function(t,e){trustspot_pr_methods.push({method:"product_carousel",params:{}})}),trustspot_forEachElement(e+" .trustspot-promoted-product-carousel",function(t,e){trustspot_pr_methods.push({method:"promoted_product_carousel",params:{}})}),trustspot_forEachElement(e+" .trustspot-review-count",function(t,e){trustspot_pr_methods.push({method:"review_count",params:{sku:t.getAttribute("data-product-sku"),name:t.getAttribute("data-name")}})}),trustspot_forEachElement(e+" .trustspot-average-rating",function(t,e){trustspot_pr_methods.push({method:"average_rating",params:{sku:t.getAttribute("data-product-sku"),name:t.getAttribute("data-name")}})}),trustspot_refresh("",1)}function promotedProductCarouselInit(){const t=new Trustspot_PPC({selector:"#trustspot-top-products-carousel",duration:200,easing:"ease-out",perPage:5,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!0,onInit:()=>{},onChange:()=>{}});window.setTimeout(function(){let t=document.getElementsByClassName("ts-no-available-img");Object.keys(t).forEach(function(e){t[e].style.visibility="visible"})},4e3),document.querySelector(".slide-prev").addEventListener("click",()=>t.prev()),document.querySelector(".slide-next").addEventListener("click",()=>t.next())}function moreComments(t){t.preventDefault,t.nextSibling.setAttribute("style",""),t.setAttribute("style","display:none;"),t.previousSibling.setAttribute("style","display:none;")}function openPictureModal(t){document.body.classList.add("trustspot-widget-modal-open");let e=t.dataset,s=t.getElementsByClassName("photo-overlay-experience-data")[0],o=document.getElementById("experiences-answers-wrapper"),r=document.getElementById("trustspot-modal-slide-caption");r.style.visibility="hidden",o.innerHTML="";let n=document.querySelector("#modal-video-block");if(e.video){let t=e.video,s=n.getAttribute("id");n.querySelector("iframe"),window.vimeoPlayerObj?vimeoPlayerObj.loadVideo(t).then(function(t){vimeoPlayerObj.play()}):(n.innerHTML="",window.vimeoPlayerObj=new Vimeo.Player(s,{url:t,playsinline:!1}),vimeoPlayerObj.on("loaded",function(){vimeoPlayerObj.play(),n.querySelector("iframe").style.margin="auto"})),document.getElementById("modal-picture-block").setAttribute("style","display: none !important;"),document.getElementById("modal-video-block").setAttribute("style","")}else document.getElementById("trustspot-modal-photo-src").setAttribute("src",e.photo),document.getElementById("modal-video-block").setAttribute("style","display: none !important;"),document.getElementById("modal-picture-block").setAttribute("style",""),e.caption&&(r.style.visibility="visible",document.querySelector("#trustspot-modal-slide-caption span").innerText=e.caption);if(e.instagram>0){let t=document.getElementById("instagram-profile-pic");t.setAttribute("src",e.profile_pic),t.classList.remove("modal-display-none"),t.classList.add("modal-display-inline-block");let s=document.querySelectorAll("#trustspot-modal-customer-verified, #avatar-first-letter");s.forEach(function(t){t.classList.remove("modal-display-inline-block"),t.classList.add("modal-display-none")}),(t=document.getElementById("trustspot-modal-comment-share-block")).classList.remove("modal-display-block"),t.classList.add("modal-display-none"),(s=document.querySelectorAll("#trustspot-modal-comment-date, #modal-rating")).forEach(function(t){t.style.visibility="hidden"})}else{let t=document.getElementById("instagram-profile-pic");t.classList.add("modal-display-none"),t.classList.remove("modal-display-inline-block"),(t=document.querySelectorAll("#avatar-first-letter span"))[0].innerText=e.cname.charAt(0).toUpperCase();let s=document.querySelectorAll("#trustspot-modal-customer-verified, #avatar-first-letter");s.forEach(function(t){t.classList.add("modal-display-inline-block"),t.classList.remove("modal-display-none")}),(t=document.getElementById("trustspot-modal-comment-share-block")).classList.add("modal-display-block"),t.classList.remove("modal-display-none"),(s=document.querySelectorAll("#trustspot-modal-comment-date, #modal-rating")).forEach(function(t){t.style.visibility="visible"}),s=(t=document.getElementById("modal-rating")).getElementsByClassName("ts-widget-review-star");for(let t=0;t<s.length;t++)t<e.rating?(s[t].classList.add("filled"),s[t].classList.remove("ts-star-disabled")):(s[t].classList.add("ts-star-disabled"),s[t].classList.remove("filled"))}if(e.purl){let t=document.getElementById("modal-wsettings-data-element").dataset,s=globalTrustSpotURL+"/store/"+t.mlink+"/?product=1&prid="+e.rid,o="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(s),r="https://twitter.com/share?text="+encodeURIComponent("Check out this great review of "+t.company_name)+"$url="+encodeURIComponent(s),n="http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(s);document.getElementById("modal-share-fb-link").setAttribute("href",o),document.getElementById("modal-share-twit-link").setAttribute("href",r),document.getElementById("modal-share-li-link").setAttribute("href",n)}document.getElementById("trustspot-modal-customer-name").innerText=e.cname,document.getElementById("trustspot-modal-comment-date").innerText=e.date;let a=document.getElementById("trustspot-modal-experience-question");if(e.experienceCommentsQuestion?(a.innerText=e.experienceCommentsQuestion,a.style.display="block"):a.style.display="none",document.getElementById("trustspot-modal-comment-content").innerText=e.comments,document.getElementById("trustspot-widget-photo-modal").style.display="block",s&&s.firstChild){let t=s.cloneNode(!0);t.removeAttribute("style"),t.removeAttribute("class"),o.appendChild(t)}let l=document.getElementsByClassName("modal-slide-like-item")[0];if(null!=l){let t=l.getElementsByClassName("slide-total-likes")[0],s=l.getElementsByClassName("ts-heart")[0],o=s.getElementsByClassName("ts-heart-unfilled")[0],r=s.getElementsByClassName("ts-heart-filled")[0];s.dataset.likes=e.likes,t.innerHTML=e.likes>0?e.likes:" ",s.dataset.rid=e.rid,s.dataset.state=e.lbtu>"0"?"filled":"unfilled",s.dataset.type=e.type,s.dataset.origin="wdg",e.lbtu>0?(o.classList.add("ts-heart-invisible"),r.classList.remove("ts-heart-invisible")):(o.classList.remove("ts-heart-invisible"),r.classList.add("ts-heart-invisible"))}}function heartToggle(t){let e=t.dataset.rid,s=t.dataset.state,o="filled"==s?"down":"up",r=t.dataset.type,n=t.dataset.likes,a=t.dataset.origin,l=new XMLHttpRequest;l.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.response);if(n!=t.likes){let o=document.getElementsByClassName("like-state-for-pr-"+e);if("wdg"==a){let s=document.getElementsByClassName("js-open-modal-el");Array.prototype.forEach.call(s,function(s){s.dataset.rid==e&&(s.dataset.likes=t.likes,s.dataset.lbtu=s.dataset.lbtu>0?0:1)}),o=document.getElementsByClassName("modal-slide-like-item")}Array.prototype.forEach.call(o,function(e){let o=e.getElementsByTagName("svg")[0];o.dataset.state="filled"==s?"unfilled":"filled",o.dataset.likes=t.likes,e.getElementsByClassName("ts-heart-unfilled")[0].classList.toggle("ts-heart-invisible"),e.getElementsByClassName("ts-heart-filled")[0].classList.toggle("ts-heart-invisible"),t.likes=t.likes>0?t.likes:" ",e.getElementsByClassName("slide-total-likes")[0].innerHTML=" "+t.likes+" "})}}},l.open("POST",globalTrustSpotURL+"/api/vote/ajax_review_like/"+e,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send("direction="+o+"&type="+r)}document.addEventListener("click",function(t){let e=document.getElementById("trustspot-widget-photo-modal");!e||"block"!=e.style.display||t.target.closest("#modal-slide-popup")||t.target.closest(".js-open-modal-el")||(e.style.display="none",document.body.classList.remove("trustspot-widget-modal-open"),window.vimeoPlayerObj&&window.vimeoPlayerObj.pause())}),document.addEventListener("DOMContentLoaded",function(t){"undefined"==typeof globalTrustSpotURL&&(globalTrustSpotURL="https://trustspot.io"),trustspot_init(t)});